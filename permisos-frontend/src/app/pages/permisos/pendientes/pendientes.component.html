<div class="container">
  <div class="max-w-6xl mx-auto bg-white p-8 rounded-xl shadow-lg">

    <!-- TÃ­tulo -->
    <h2 class="text-2xl font-bold text-gray-800 mb-6">
      Permisos Pendientes
    </h2>

    <!-- Loading -->
    <div *ngIf="loading" class="loading">
      Cargando permisos pendientes...
    </div>

    <!-- Error -->
    <div *ngIf="error" class="error">
      {{ error }}
    </div>

    <!-- Tabla -->
    <div *ngIf="!loading && permisos.length > 0" class="overflow-x-auto">
      <table class="w-full border-collapse text-sm">
        <thead>
            <tr>
                <th class="col-employee">Empleado</th>
                <th class="col-date">Fecha</th>
                <th class="col-time">Horario</th>
                <th class="col-hours text-center">Horas</th>
                <th class="col-reason">Motivo</th>
                <th class="col-actions text-center">Acciones</th>
            </tr>
        </thead>

        <tbody>
          <tr
            *ngFor="let permiso of permisos"
            class="border-b hover:bg-gray-50 transition"
          >
            <td class="py-3" data-label="Empleado">
              {{ permiso.usuario?.name || 'â€”' }}
            </td>

            <td class="py-3" data-label="Fecha">
              {{ permiso.fecha | date:'dd/MM/yyyy' }}
            </td>

            <td class="py-3" data-label="Horario">
              {{ permiso.hora_inicio }} - {{ permiso.hora_fin }}
            </td>

            <td class="py-3 text-center" data-label="Horas">
              {{ permiso.horas_totales | number:'1.1-2' }}
            </td>

            <td class="py-3 text-gray-700" data-label="Motivo">
              {{ permiso.motivo }}
            </td>

            <td
              class="py-3 text-center space-x-2"
              data-label="Acciones"
              *ngIf="puedeEvaluar(permiso)"
            >
              <button (click)="aprobar(permiso.id)" class="btn-approve">
                Aprobar
              </button>

              <button (click)="rechazar(permiso.id)" class="btn-reject">
                Rechazar
              </button>
            </td>

            <td
              class="py-3 text-center"
              data-label="Acciones"
              *ngIf="!puedeEvaluar(permiso)"
            >
              <span class="badge-own">
                No podÃ©s evaluar tu propio permiso
              </span>
            </td>

          </tr>
        </tbody>
      </table>
    </div>

    <!-- VacÃ­o -->
    <div
      *ngIf="!loading && permisos.length === 0"
      class="empty"
    >
      No hay permisos pendientes ðŸŽ‰
    </div>

  </div>
</div>

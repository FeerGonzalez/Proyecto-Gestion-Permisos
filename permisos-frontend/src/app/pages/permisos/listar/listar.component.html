<div class="container">
        <!-- Título -->
        <div class="header">
            <h2>Mis Permisos</h2>

            <a
                routerLink="/permisos/crear"
                class="btn-primary"
            >
                + Solicitar permiso
            </a>
        </div>

        <!-- Estados -->
        <div *ngIf="loading" class="loading">
            Cargando permisos...
        </div>

        <div *ngIf="!loading && error" class="error">
            {{ error }}
        </div>

        <div *ngIf="!loading && !error && permisos?.length === 0"class="empty">
            No tenés permisos solicitados aún.
        </div>

        <!-- Tabla -->
        <div class="table-wrapper">
            <table>
                <thead>
                    <tr>
                    <th>Fecha</th>
                    <th>Horario</th>
                    <th>Motivo</th>
                    <th class="center">Estado</th>
                    <th class="center">Acciones</th>
                    </tr>
                </thead>

                <tbody>
                    <tr *ngFor="let permiso of permisos">

                    <td data-label="Fecha">
                        {{ permiso.fecha | date:'dd/MM/yyyy' }}
                    </td>

                    <td data-label="Horario">
                        {{ permiso.hora_inicio }} - {{ permiso.hora_fin }}
                    </td>

                    <td data-label="Motivo">
                        {{ permiso.motivo }}
                    </td>

                    <td data-label="Estado" class="center">
                        <span class="badge {{ permiso.estado }}">
                        {{ permiso.estado | titlecase }}
                        </span>
                    </td>

                    <td data-label="Acciones" class="center">
                        <button
                        *ngIf="permiso.estado === 'pendiente'"
                        (click)="cancelar(permiso.id)"
                        [disabled]="loading"
                        class="btn-cancelar"
                        >
                        Cancelar
                        </button>

                        <span
                        *ngIf="permiso.estado !== 'pendiente'"
                        class="muted"
                        >
                        —
                        </span>
                    </td>

                    </tr>
                </tbody>
            </table>
        </div>

        <!-- Paginación -->
        <div class="pagination" *ngIf="lastPage > 1">
            <button
                (click)="irAPagina(currentPage - 1)"
                [disabled]="currentPage === 1 || loading">
                « Anterior
            </button>

            <span>
                Página {{ currentPage }} de {{ lastPage }}
            </span>

            <button
                (click)="irAPagina(currentPage + 1)"
                [disabled]="currentPage === lastPage || loading">
                Siguiente »
            </button>
        </div>
    

</div>